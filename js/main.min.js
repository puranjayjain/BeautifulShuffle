function getRandom(n){return n[Math.floor(Math.random()*n.length)]}function getWinner(n){for(var t=[],f=[],r,u,i;t.length<10;){for(r=Math.ceil(Math.random()*n.length),u=!1,i=0;i<t.length;i++)if(t[i]==r||t[i]==""||t[i]==null){u=!0;break}u||(t[t.length]=r,f[t.length-1]=n[r])}return f}function getNames(n){for(var r=[[],[]],i=$.csv.toArrays(n),u=i[0].indexOf("Name"),f=i[0].indexOf("Enrollment No"),t=1;t<i.length;t++)r[0][t-1]=i[t][u],r[1][t-1]=i[t][f];return r}function readTextFile(n){var i=null,t=new XMLHttpRequest;return t.open("GET",n,!1),t.onreadystatechange=function(){t.readyState===4&&(t.status===200||t.status==0)&&(i=t.responseText)},t.send(null),i}var winnerclassnames=[],cur=0,magicbutton,redobutton;(function(){function e(){var r=function(){t.animations&&this.removeEventListener(i,r);o()};window.addEventListener("scroll",u);classie.add(n,"loading");t.animations?n.addEventListener(i,r):r()}function o(){var e=function(f){var e=0,o=setInterval(function(){if(e=Math.min(e+Math.random()*.1,1),f.setProgress(e),e===1){classie.remove(n,"loading");classie.add(n,"loaded");clearInterval(o);var s=function(n){if(t.animations){if(n.target!==r)return;this.removeEventListener(i,s)}classie.add(document.body,"layout-switch");window.removeEventListener("scroll",u)};t.animations?r.addEventListener(i,s):s()}},50)};f.setProgressFn(e)}function u(){window.scrollTo(0,0)}var t={animations:Modernizr.cssanimations},n=document.getElementById("ip-container"),r=n.querySelector("header.ip-header"),f=new PathLoader(document.getElementById("ip-loader-circle")),i={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")];e()})();magicbutton=document.querySelector(".icon-wand");magicbutton.addEventListener("click",function(){classie.add(document.body,"hide-logo");var n=$("#"+winnerclassnames[cur]).html();$(".winnername").html(n);$(".enrollment").html(winnerclassnames[cur]);$("body").mCustomScrollbar("scrollTo","top");setTimeout(function(){$(".stage").mCustomScrollbar("scrollTo","bottom")},3300);setTimeout(function(){$(".stage").mCustomScrollbar("scrollTo","top")},5e3);setTimeout(function(){$(".stage").mCustomScrollbar("scrollTo","#"+winnerclassnames[cur])},7e3);setTimeout(function(){document.querySelector(".icon-spinner").style[Modernizr.prefixed("animation")]="buttonPop 1s cubic-bezier(0.7,0,0.3,1) forwards,buttonPop1 0.5s cubic-bezier(0.7,0,0.3,1) 1s forwards";document.querySelector(".icon-spinner").classList.add("icon-spinner-before");$(".displayname").addClass("visible-displayname");$(".displayname").css("position","fixed","top","0")},11e3);cur++});redobutton=document.querySelector(".icon-spinner");redobutton.addEventListener("click",function(){classie.add(document.body,"hide-logo");var n=$("#"+winnerclassnames[cur]).html();$(".winnername").html(n);$(".enrollment").html(winnerclassnames[cur]);$("body").mCustomScrollbar("scrollTo","top");setTimeout(function(){$(".stage").mCustomScrollbar("scrollTo","bottom")},1e3);setTimeout(function(){$(".stage").mCustomScrollbar("scrollTo","top")},3e3);setTimeout(function(){$(".stage").mCustomScrollbar("scrollTo","#"+winnerclassnames[cur])},5e3);setTimeout(function(){document.querySelector(".icon-spinner").style[Modernizr.prefixed("animation")]="buttonPop 1s cubic-bezier(0.7,0,0.3,1) forwards,buttonPop1 0.5s cubic-bezier(0.7,0,0.3,1) 1s forwards";document.querySelector(".icon-spinner").classList.add("icon-spinner-before");$(".displayname").addClass("visible-displayname");$(".displayname").css("position","fixed","top","0")},7e3);cur++}),function(n){n(window).load(function(){var t;n(".stage").mCustomScrollbar({theme:"minimal",scrollInertia:2500,autoHideScrollbar:!0});n("body").mCustomScrollbar({theme:"minimal-dark",autoHideScrollbar:!0,callbacks:{onScrollStart:function(){n(".displayname").removeClass("visible-displayname")}}});var i=getNames(readTextFile("../data/names.csv")),r=i[0],u=i[1];winnerclassnames=getWinner(u.filter(Boolean));for(t in r)n(".people").append("<li id='"+u[t]+"'>"+r[t]+"<\/li>")})}(jQuery);
/*
//# sourceMappingURL=main.min.js.map
*/